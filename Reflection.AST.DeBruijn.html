<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Reflection.AST.DeBruijn</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Weakening, strengthening and free variable check for reflected terms.</a>
<a id="179" class="Comment">------------------------------------------------------------------------</a>

<a id="253" class="Symbol">{-#</a> <a id="257" class="Keyword">OPTIONS</a> <a id="265" class="Pragma">--without-K</a> <a id="277" class="Pragma">--safe</a> <a id="284" class="Symbol">#-}</a>

<a id="289" class="Keyword">module</a> <a id="296" href="Reflection.AST.DeBruijn.html" class="Module">Reflection.AST.DeBruijn</a> <a id="320" class="Keyword">where</a>

<a id="327" class="Keyword">open</a> <a id="332" class="Keyword">import</a> <a id="339" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="354" class="Keyword">using</a> <a id="360" class="Symbol">(</a><a id="361" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="365" class="Symbol">;</a> <a id="367" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="371" class="Symbol">;</a> <a id="373" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="378" class="Symbol">;</a> <a id="380" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a><a id="383" class="Symbol">;</a> <a id="385" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a><a id="398" class="Symbol">)</a>
<a id="400" class="Keyword">open</a> <a id="405" class="Keyword">import</a> <a id="412" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="426" class="Symbol">as</a> <a id="429" class="Module">Nat</a> <a id="433" class="Keyword">using</a> <a id="439" class="Symbol">(</a><a id="440" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="441" class="Symbol">;</a> <a id="443" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="447" class="Symbol">;</a> <a id="449" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="452" class="Symbol">;</a> <a id="454" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">_+_</a><a id="457" class="Symbol">;</a> <a id="459" href="Data.Nat.Base.html#3131" class="Primitive Operator">_∸_</a><a id="462" class="Symbol">;</a> <a id="464" href="Data.Nat.Base.html#1230" class="Primitive Operator">_&lt;ᵇ_</a><a id="468" class="Symbol">;</a> <a id="470" href="Data.Nat.Base.html#1056" class="Primitive Operator">_≡ᵇ_</a><a id="474" class="Symbol">)</a>
<a id="476" class="Keyword">open</a> <a id="481" class="Keyword">import</a> <a id="488" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="503" class="Keyword">using</a> <a id="509" class="Symbol">(</a><a id="510" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="514" class="Symbol">;</a> <a id="516" href="Data.List.Base.html#7182" class="InductiveConstructor">[]</a><a id="518" class="Symbol">;</a> <a id="520" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="523" class="Symbol">;</a> <a id="525" href="Data.List.Base.html#1825" class="Function Operator">_++_</a><a id="529" class="Symbol">)</a>
<a id="531" class="Keyword">open</a> <a id="536" class="Keyword">import</a> <a id="543" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="559" class="Keyword">using</a> <a id="565" class="Symbol">(</a><a id="566" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a><a id="571" class="Symbol">;</a> <a id="573" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a><a id="580" class="Symbol">;</a> <a id="582" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a><a id="586" class="Symbol">)</a>
<a id="588" class="Keyword">import</a> <a id="595" href="Data.Maybe.Effectful.html" class="Module">Data.Maybe.Effectful</a> <a id="616" class="Symbol">as</a> <a id="619" class="Module">Maybe</a>
<a id="625" class="Keyword">import</a> <a id="632" href="Function.Identity.Effectful.html" class="Module">Function.Identity.Effectful</a> <a id="660" class="Symbol">as</a> <a id="663" class="Module">Identity</a>
<a id="672" class="Keyword">open</a> <a id="677" class="Keyword">import</a> <a id="684" href="Effect.Applicative.html" class="Module">Effect.Applicative</a> <a id="703" class="Keyword">using</a> <a id="709" class="Symbol">(</a><a id="710" href="Effect.Applicative.html#490" class="Function">RawApplicative</a><a id="724" class="Symbol">)</a>

<a id="727" class="Keyword">open</a> <a id="732" class="Keyword">import</a> <a id="739" href="Reflection.html" class="Module">Reflection</a>
<a id="750" class="Keyword">open</a> <a id="755" class="Keyword">import</a> <a id="762" href="Reflection.AST.Argument.Visibility.html" class="Module">Reflection.AST.Argument.Visibility</a> <a id="797" class="Keyword">using</a> <a id="803" class="Symbol">(</a><a id="804" href="Agda.Builtin.Reflection.html#2738" class="Datatype">Visibility</a><a id="814" class="Symbol">)</a>
<a id="816" class="Keyword">import</a> <a id="823" href="Reflection.AST.Traversal.html" class="Module">Reflection.AST.Traversal</a> <a id="848" class="Symbol">as</a> <a id="851" class="Module">Traverse</a>

<a id="861" class="Keyword">private</a>
  <a id="871" class="Keyword">variable</a> <a id="880" href="Reflection.AST.DeBruijn.html#880" class="Generalizable">A</a> <a id="882" class="Symbol">:</a> <a id="884" href="Agda.Primitive.html#326" class="Primitive">Set</a>

<a id="889" class="Comment">------------------------------------------------------------------------</a>
<a id="962" class="Comment">-- Weakening</a>

<a id="976" class="Keyword">module</a> <a id="983" href="Reflection.AST.DeBruijn.html#983" class="Module">_</a> <a id="985" class="Keyword">where</a>

  <a id="994" class="Keyword">open</a> <a id="999" href="Reflection.AST.Traversal.html" class="Module">Traverse</a> <a id="1008" href="Function.Identity.Effectful.html#548" class="Function">Identity.applicative</a>

  <a id="1032" class="Keyword">private</a>

    <a id="1045" href="Reflection.AST.DeBruijn.html#1045" class="Function">wkVar</a> <a id="1051" class="Symbol">:</a> <a id="1053" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1055" class="Symbol">→</a> <a id="1057" href="Reflection.AST.Traversal.html#941" class="Record">Cxt</a> <a id="1061" class="Symbol">→</a> <a id="1063" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1065" class="Symbol">→</a> <a id="1067" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="1073" href="Reflection.AST.DeBruijn.html#1045" class="Function">wkVar</a> <a id="1079" href="Reflection.AST.DeBruijn.html#1079" class="Bound">by</a> <a id="1082" class="Symbol">(</a><a id="1083" href="Reflection.AST.DeBruijn.html#1083" class="Bound">from</a> <a id="1088" href="Reflection.AST.Traversal.html#971" class="InductiveConstructor Operator">,</a> <a id="1090" class="Symbol">_)</a> <a id="1093" href="Reflection.AST.DeBruijn.html#1093" class="Bound">i</a> <a id="1095" class="Symbol">=</a> <a id="1097" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1100" href="Reflection.AST.DeBruijn.html#1093" class="Bound">i</a> <a id="1102" href="Data.Nat.Base.html#1230" class="Primitive Operator">&lt;ᵇ</a> <a id="1105" href="Reflection.AST.DeBruijn.html#1083" class="Bound">from</a> <a id="1110" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1115" href="Reflection.AST.DeBruijn.html#1093" class="Bound">i</a> <a id="1117" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1122" href="Reflection.AST.DeBruijn.html#1093" class="Bound">i</a> <a id="1124" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1126" href="Reflection.AST.DeBruijn.html#1079" class="Bound">by</a>

    <a id="1134" href="Reflection.AST.DeBruijn.html#1134" class="Function">actions</a> <a id="1142" class="Symbol">:</a> <a id="1144" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1146" class="Symbol">→</a> <a id="1148" href="Reflection.AST.Traversal.html#1431" class="Record">Actions</a>
    <a id="1160" href="Reflection.AST.DeBruijn.html#1134" class="Function">actions</a> <a id="1168" href="Reflection.AST.DeBruijn.html#1168" class="Bound">k</a> <a id="1170" class="Symbol">=</a> <a id="1172" class="Keyword">record</a> <a id="1179" href="Reflection.AST.Traversal.html#1588" class="Function">defaultActions</a> <a id="1194" class="Symbol">{</a> <a id="1196" href="Reflection.AST.Traversal.html#1463" class="Field">onVar</a> <a id="1202" class="Symbol">=</a> <a id="1204" href="Reflection.AST.DeBruijn.html#1045" class="Function">wkVar</a> <a id="1210" href="Reflection.AST.DeBruijn.html#1168" class="Bound">k</a> <a id="1212" class="Symbol">}</a>

  <a id="1217" href="Reflection.AST.DeBruijn.html#1217" class="Function">weakenFrom′</a> <a id="1229" class="Symbol">:</a> <a id="1231" class="Symbol">(</a><a id="1232" href="Reflection.AST.Traversal.html#1431" class="Record">Actions</a> <a id="1240" class="Symbol">→</a> <a id="1242" href="Reflection.AST.Traversal.html#941" class="Record">Cxt</a> <a id="1246" class="Symbol">→</a> <a id="1248" href="Reflection.AST.DeBruijn.html#880" class="Generalizable">A</a> <a id="1250" class="Symbol">→</a> <a id="1252" href="Reflection.AST.DeBruijn.html#880" class="Generalizable">A</a><a id="1253" class="Symbol">)</a> <a id="1255" class="Symbol">→</a> <a id="1257" class="Symbol">(</a><a id="1258" href="Reflection.AST.DeBruijn.html#1258" class="Bound">from</a> <a id="1263" href="Reflection.AST.DeBruijn.html#1263" class="Bound">by</a> <a id="1266" class="Symbol">:</a> <a id="1268" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1269" class="Symbol">)</a> <a id="1271" class="Symbol">→</a> <a id="1273" href="Reflection.AST.DeBruijn.html#880" class="Generalizable">A</a> <a id="1275" class="Symbol">→</a> <a id="1277" href="Reflection.AST.DeBruijn.html#880" class="Generalizable">A</a>
  <a id="1281" href="Reflection.AST.DeBruijn.html#1217" class="Function">weakenFrom′</a> <a id="1293" href="Reflection.AST.DeBruijn.html#1293" class="Bound">trav</a> <a id="1298" href="Reflection.AST.DeBruijn.html#1298" class="Bound">from</a> <a id="1303" href="Reflection.AST.DeBruijn.html#1303" class="Bound">by</a> <a id="1306" class="Symbol">=</a> <a id="1308" href="Reflection.AST.DeBruijn.html#1293" class="Bound">trav</a> <a id="1313" class="Symbol">(</a><a id="1314" href="Reflection.AST.DeBruijn.html#1134" class="Function">actions</a> <a id="1322" href="Reflection.AST.DeBruijn.html#1303" class="Bound">by</a><a id="1324" class="Symbol">)</a> <a id="1326" class="Symbol">(</a><a id="1327" href="Reflection.AST.DeBruijn.html#1298" class="Bound">from</a> <a id="1332" href="Reflection.AST.Traversal.html#971" class="InductiveConstructor Operator">,</a> <a id="1334" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1336" class="Symbol">)</a> <a id="1338" class="Comment">-- not using the context part</a>

  <a id="1371" href="Reflection.AST.DeBruijn.html#1371" class="Function">weakenFrom</a> <a id="1382" class="Symbol">:</a> <a id="1384" class="Symbol">(</a><a id="1385" href="Reflection.AST.DeBruijn.html#1385" class="Bound">from</a> <a id="1390" href="Reflection.AST.DeBruijn.html#1390" class="Bound">by</a> <a id="1393" class="Symbol">:</a> <a id="1395" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1396" class="Symbol">)</a> <a id="1398" class="Symbol">→</a> <a id="1400" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1405" class="Symbol">→</a> <a id="1407" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="1414" href="Reflection.AST.DeBruijn.html#1371" class="Function">weakenFrom</a> <a id="1425" class="Symbol">=</a> <a id="1427" href="Reflection.AST.DeBruijn.html#1217" class="Function">weakenFrom′</a> <a id="1439" href="Reflection.AST.Traversal.html#1933" class="Function">traverseTerm</a>

  <a id="1455" href="Reflection.AST.DeBruijn.html#1455" class="Function">weaken</a> <a id="1462" class="Symbol">:</a> <a id="1464" class="Symbol">(</a><a id="1465" href="Reflection.AST.DeBruijn.html#1465" class="Bound">by</a> <a id="1468" class="Symbol">:</a> <a id="1470" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1471" class="Symbol">)</a> <a id="1473" class="Symbol">→</a> <a id="1475" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1480" class="Symbol">→</a> <a id="1482" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="1489" href="Reflection.AST.DeBruijn.html#1455" class="Function">weaken</a> <a id="1496" class="Symbol">=</a> <a id="1498" href="Reflection.AST.DeBruijn.html#1371" class="Function">weakenFrom</a> <a id="1509" class="Number">0</a>

  <a id="1514" href="Reflection.AST.DeBruijn.html#1514" class="Function">weakenArgs</a> <a id="1525" class="Symbol">:</a> <a id="1527" class="Symbol">(</a><a id="1528" href="Reflection.AST.DeBruijn.html#1528" class="Bound">by</a> <a id="1531" class="Symbol">:</a> <a id="1533" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1534" class="Symbol">)</a> <a id="1536" class="Symbol">→</a> <a id="1538" href="Reflection.AST.Argument.html#1538" class="Function">Args</a> <a id="1543" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1548" class="Symbol">→</a> <a id="1550" href="Reflection.AST.Argument.html#1538" class="Function">Args</a> <a id="1555" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="1562" href="Reflection.AST.DeBruijn.html#1514" class="Function">weakenArgs</a> <a id="1573" class="Symbol">=</a> <a id="1575" href="Reflection.AST.DeBruijn.html#1217" class="Function">weakenFrom′</a> <a id="1587" href="Reflection.AST.Traversal.html#2032" class="Function">traverseArgs</a> <a id="1600" class="Number">0</a>

  <a id="1605" href="Reflection.AST.DeBruijn.html#1605" class="Function">weakenClauses</a> <a id="1619" class="Symbol">:</a> <a id="1621" class="Symbol">(</a><a id="1622" href="Reflection.AST.DeBruijn.html#1622" class="Bound">by</a> <a id="1625" class="Symbol">:</a> <a id="1627" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1628" class="Symbol">)</a> <a id="1630" class="Symbol">→</a> <a id="1632" href="Reflection.AST.Term.html#1611" class="Function">Clauses</a> <a id="1640" class="Symbol">→</a> <a id="1642" href="Reflection.AST.Term.html#1611" class="Function">Clauses</a>
  <a id="1652" href="Reflection.AST.DeBruijn.html#1605" class="Function">weakenClauses</a> <a id="1666" class="Symbol">=</a> <a id="1668" href="Reflection.AST.DeBruijn.html#1217" class="Function">weakenFrom′</a> <a id="1680" href="Reflection.AST.Traversal.html#2212" class="Function">traverseClauses</a> <a id="1696" class="Number">0</a>


<a id="1700" class="Comment">------------------------------------------------------------------------</a>
<a id="1773" class="Comment">-- η-expansion</a>

<a id="1789" class="Keyword">private</a>
  <a id="η"></a><a id="1799" href="Reflection.AST.DeBruijn.html#1799" class="Function">η</a> <a id="1801" class="Symbol">:</a> <a id="1803" href="Agda.Builtin.Reflection.html#2738" class="Datatype">Visibility</a> <a id="1814" class="Symbol">→</a> <a id="1816" class="Symbol">(</a><a id="1817" href="Reflection.AST.Argument.html#1538" class="Function">Args</a> <a id="1822" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1827" class="Symbol">→</a> <a id="1829" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a><a id="1833" class="Symbol">)</a> <a id="1835" class="Symbol">→</a> <a id="1837" href="Reflection.AST.Argument.html#1538" class="Function">Args</a> <a id="1842" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="1847" class="Symbol">→</a> <a id="1849" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="1856" href="Reflection.AST.DeBruijn.html#1799" class="Function">η</a> <a id="1858" href="Reflection.AST.DeBruijn.html#1858" class="Bound">h</a> <a id="1860" href="Reflection.AST.DeBruijn.html#1860" class="Bound">f</a> <a id="1862" href="Reflection.AST.DeBruijn.html#1862" class="Bound">args</a> <a id="1867" class="Symbol">=</a>
    <a id="1873" href="Agda.Builtin.Reflection.html#4960" class="InductiveConstructor">lam</a> <a id="1877" href="Reflection.AST.DeBruijn.html#1858" class="Bound">h</a> <a id="1879" class="Symbol">(</a><a id="1880" href="Agda.Builtin.Reflection.html#3980" class="InductiveConstructor">abs</a> <a id="1884" class="String">&quot;x&quot;</a> <a id="1888" class="Symbol">(</a><a id="1889" href="Reflection.AST.DeBruijn.html#1860" class="Bound">f</a> <a id="1891" class="Symbol">(</a><a id="1892" href="Reflection.AST.DeBruijn.html#1514" class="Function">weakenArgs</a> <a id="1903" class="Number">1</a> <a id="1905" href="Reflection.AST.DeBruijn.html#1862" class="Bound">args</a> <a id="1910" href="Data.List.Base.html#1825" class="Function Operator">++</a>
                       <a id="1936" href="Agda.Builtin.Reflection.html#3733" class="InductiveConstructor">arg</a> <a id="1940" class="Symbol">(</a><a id="1941" href="Agda.Builtin.Reflection.html#3638" class="InductiveConstructor">arg-info</a> <a id="1950" href="Reflection.AST.DeBruijn.html#1858" class="Bound">h</a> <a id="1952" href="Reflection.AST.Argument.html#1207" class="InductiveConstructor">defaultModality</a><a id="1967" class="Symbol">)</a> <a id="1969" class="Symbol">(</a><a id="1970" href="Agda.Builtin.Reflection.html#4790" class="InductiveConstructor">var</a> <a id="1974" class="Number">0</a> <a id="1976" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1978" class="Symbol">)</a> <a id="1980" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
                       <a id="2005" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2007" class="Symbol">)))</a>

<a id="η-expand"></a><a id="2012" href="Reflection.AST.DeBruijn.html#2012" class="Function">η-expand</a> <a id="2021" class="Symbol">:</a> <a id="2023" href="Agda.Builtin.Reflection.html#2738" class="Datatype">Visibility</a> <a id="2034" class="Symbol">→</a> <a id="2036" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="2041" class="Symbol">→</a> <a id="2043" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
<a id="2048" href="Reflection.AST.DeBruijn.html#2012" class="Function">η-expand</a> <a id="2057" href="Reflection.AST.DeBruijn.html#2057" class="Bound">h</a> <a id="2059" class="Symbol">(</a><a id="2060" href="Agda.Builtin.Reflection.html#4790" class="InductiveConstructor">var</a> <a id="2064" href="Reflection.AST.DeBruijn.html#2064" class="Bound">x</a>      <a id="2071" href="Reflection.AST.DeBruijn.html#2071" class="Bound">args</a><a id="2075" class="Symbol">)</a> <a id="2077" class="Symbol">=</a> <a id="2079" href="Reflection.AST.DeBruijn.html#1799" class="Function">η</a> <a id="2081" href="Reflection.AST.DeBruijn.html#2057" class="Bound">h</a> <a id="2083" class="Symbol">(</a><a id="2084" href="Agda.Builtin.Reflection.html#4790" class="InductiveConstructor">var</a> <a id="2088" class="Symbol">(</a><a id="2089" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="2093" href="Reflection.AST.DeBruijn.html#2064" class="Bound">x</a><a id="2094" class="Symbol">))</a> <a id="2097" href="Reflection.AST.DeBruijn.html#2071" class="Bound">args</a>
<a id="2102" href="Reflection.AST.DeBruijn.html#2012" class="Function">η-expand</a> <a id="2111" href="Reflection.AST.DeBruijn.html#2111" class="Bound">h</a> <a id="2113" class="Symbol">(</a><a id="2114" href="Agda.Builtin.Reflection.html#4846" class="InductiveConstructor">con</a> <a id="2118" href="Reflection.AST.DeBruijn.html#2118" class="Bound">c</a>      <a id="2125" href="Reflection.AST.DeBruijn.html#2125" class="Bound">args</a><a id="2129" class="Symbol">)</a> <a id="2131" class="Symbol">=</a> <a id="2133" href="Reflection.AST.DeBruijn.html#1799" class="Function">η</a> <a id="2135" href="Reflection.AST.DeBruijn.html#2111" class="Bound">h</a> <a id="2137" class="Symbol">(</a><a id="2138" href="Agda.Builtin.Reflection.html#4846" class="InductiveConstructor">con</a> <a id="2142" href="Reflection.AST.DeBruijn.html#2118" class="Bound">c</a><a id="2143" class="Symbol">)</a> <a id="2145" href="Reflection.AST.DeBruijn.html#2125" class="Bound">args</a>
<a id="2150" href="Reflection.AST.DeBruijn.html#2012" class="Function">η-expand</a> <a id="2159" href="Reflection.AST.DeBruijn.html#2159" class="Bound">h</a> <a id="2161" class="Symbol">(</a><a id="2162" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="2166" href="Reflection.AST.DeBruijn.html#2166" class="Bound">f</a>      <a id="2173" href="Reflection.AST.DeBruijn.html#2173" class="Bound">args</a><a id="2177" class="Symbol">)</a> <a id="2179" class="Symbol">=</a> <a id="2181" href="Reflection.AST.DeBruijn.html#1799" class="Function">η</a> <a id="2183" href="Reflection.AST.DeBruijn.html#2159" class="Bound">h</a> <a id="2185" class="Symbol">(</a><a id="2186" href="Agda.Builtin.Reflection.html#4903" class="InductiveConstructor">def</a> <a id="2190" href="Reflection.AST.DeBruijn.html#2166" class="Bound">f</a><a id="2191" class="Symbol">)</a> <a id="2193" href="Reflection.AST.DeBruijn.html#2173" class="Bound">args</a>
<a id="2198" href="Reflection.AST.DeBruijn.html#2012" class="Function">η-expand</a> <a id="2207" href="Reflection.AST.DeBruijn.html#2207" class="Bound">h</a> <a id="2209" class="Symbol">(</a><a id="2210" href="Agda.Builtin.Reflection.html#5013" class="InductiveConstructor">pat-lam</a> <a id="2218" href="Reflection.AST.DeBruijn.html#2218" class="Bound">cs</a> <a id="2221" href="Reflection.AST.DeBruijn.html#2221" class="Bound">args</a><a id="2225" class="Symbol">)</a> <a id="2227" class="Symbol">=</a> <a id="2229" href="Reflection.AST.DeBruijn.html#1799" class="Function">η</a> <a id="2231" href="Reflection.AST.DeBruijn.html#2207" class="Bound">h</a> <a id="2233" class="Symbol">(</a><a id="2234" href="Agda.Builtin.Reflection.html#5013" class="InductiveConstructor">pat-lam</a> <a id="2242" class="Symbol">(</a><a id="2243" href="Reflection.AST.DeBruijn.html#1605" class="Function">weakenClauses</a> <a id="2257" class="Number">1</a> <a id="2259" href="Reflection.AST.DeBruijn.html#2218" class="Bound">cs</a><a id="2261" class="Symbol">))</a> <a id="2264" href="Reflection.AST.DeBruijn.html#2221" class="Bound">args</a>
<a id="2269" href="Reflection.AST.DeBruijn.html#2012" class="Function">η-expand</a> <a id="2278" href="Reflection.AST.DeBruijn.html#2278" class="Bound">h</a> <a id="2280" class="Symbol">(</a><a id="2281" href="Agda.Builtin.Reflection.html#5196" class="InductiveConstructor">meta</a> <a id="2286" href="Reflection.AST.DeBruijn.html#2286" class="Bound">x</a>     <a id="2292" href="Reflection.AST.DeBruijn.html#2292" class="Bound">args</a><a id="2296" class="Symbol">)</a> <a id="2298" class="Symbol">=</a> <a id="2300" href="Reflection.AST.DeBruijn.html#1799" class="Function">η</a> <a id="2302" href="Reflection.AST.DeBruijn.html#2278" class="Bound">h</a> <a id="2304" class="Symbol">(</a><a id="2305" href="Agda.Builtin.Reflection.html#5196" class="InductiveConstructor">meta</a> <a id="2310" href="Reflection.AST.DeBruijn.html#2286" class="Bound">x</a><a id="2311" class="Symbol">)</a> <a id="2313" href="Reflection.AST.DeBruijn.html#2292" class="Bound">args</a>
<a id="2318" href="Reflection.AST.DeBruijn.html#2012" class="Function">η-expand</a> <a id="2327" href="Reflection.AST.DeBruijn.html#2327" class="Bound">h</a> <a id="2329" href="Reflection.AST.DeBruijn.html#2329" class="Bound">t</a><a id="2330" class="Symbol">@(</a><a id="2332" href="Agda.Builtin.Reflection.html#4960" class="InductiveConstructor">lam</a> <a id="2336" class="Symbol">_</a> <a id="2338" class="Symbol">_)</a>       <a id="2347" class="Symbol">=</a> <a id="2349" href="Reflection.AST.DeBruijn.html#2329" class="Bound">t</a>
<a id="2351" href="Reflection.AST.DeBruijn.html#2012" class="Function">η-expand</a> <a id="2360" href="Reflection.AST.DeBruijn.html#2360" class="Bound">h</a> <a id="2362" href="Reflection.AST.DeBruijn.html#2362" class="Bound">t</a><a id="2363" class="Symbol">@(</a><a id="2365" href="Agda.Builtin.Reflection.html#5078" class="InductiveConstructor">pi</a> <a id="2368" class="Symbol">_</a> <a id="2370" class="Symbol">_)</a>        <a id="2380" class="Symbol">=</a> <a id="2382" href="Reflection.AST.DeBruijn.html#2362" class="Bound">t</a>
<a id="2384" href="Reflection.AST.DeBruijn.html#2012" class="Function">η-expand</a> <a id="2393" href="Reflection.AST.DeBruijn.html#2393" class="Bound">h</a> <a id="2395" href="Reflection.AST.DeBruijn.html#2395" class="Bound">t</a><a id="2396" class="Symbol">@(</a><a id="2398" href="Agda.Builtin.Reflection.html#5129" class="InductiveConstructor">agda-sort</a> <a id="2408" class="Symbol">_)</a>   <a id="2413" class="Symbol">=</a> <a id="2415" href="Reflection.AST.DeBruijn.html#2395" class="Bound">t</a>
<a id="2417" href="Reflection.AST.DeBruijn.html#2012" class="Function">η-expand</a> <a id="2426" href="Reflection.AST.DeBruijn.html#2426" class="Bound">h</a> <a id="2428" href="Reflection.AST.DeBruijn.html#2428" class="Bound">t</a><a id="2429" class="Symbol">@(</a><a id="2431" href="Agda.Builtin.Reflection.html#5161" class="InductiveConstructor">lit</a> <a id="2435" class="Symbol">_)</a>         <a id="2446" class="Symbol">=</a> <a id="2448" href="Reflection.AST.DeBruijn.html#2428" class="Bound">t</a>
<a id="2450" href="Reflection.AST.DeBruijn.html#2012" class="Function">η-expand</a> <a id="2459" href="Reflection.AST.DeBruijn.html#2459" class="Bound">h</a> <a id="2461" href="Reflection.AST.DeBruijn.html#2461" class="Bound">t</a><a id="2462" class="Symbol">@</a><a id="2463" href="Agda.Builtin.Reflection.html#5246" class="InductiveConstructor">unknown</a>         <a id="2479" class="Symbol">=</a> <a id="2481" href="Reflection.AST.DeBruijn.html#2461" class="Bound">t</a>


<a id="2485" class="Comment">------------------------------------------------------------------------</a>
<a id="2558" class="Comment">-- Strengthening</a>

<a id="2576" class="Keyword">module</a> <a id="2583" href="Reflection.AST.DeBruijn.html#2583" class="Module">_</a> <a id="2585" class="Keyword">where</a>

  <a id="2594" class="Keyword">open</a> <a id="2599" href="Reflection.AST.Traversal.html" class="Module">Traverse</a> <a id="2608" href="Data.Maybe.Effectful.html#713" class="Function">Maybe.applicative</a>

  <a id="2629" class="Keyword">private</a>
    <a id="2641" href="Reflection.AST.DeBruijn.html#2641" class="Function">strVar</a> <a id="2648" class="Symbol">:</a> <a id="2650" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2652" class="Symbol">→</a> <a id="2654" href="Reflection.AST.Traversal.html#941" class="Record">Cxt</a> <a id="2658" class="Symbol">→</a> <a id="2660" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2662" class="Symbol">→</a> <a id="2664" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2670" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="2676" href="Reflection.AST.DeBruijn.html#2641" class="Function">strVar</a> <a id="2683" href="Reflection.AST.DeBruijn.html#2683" class="Bound">by</a> <a id="2686" class="Symbol">(</a><a id="2687" href="Reflection.AST.DeBruijn.html#2687" class="Bound">from</a> <a id="2692" href="Reflection.AST.Traversal.html#971" class="InductiveConstructor Operator">,</a> <a id="2694" href="Reflection.AST.DeBruijn.html#2694" class="Bound">Γ</a><a id="2695" class="Symbol">)</a> <a id="2697" href="Reflection.AST.DeBruijn.html#2697" class="Bound">i</a> <a id="2699" class="Keyword">with</a> <a id="2704" href="Reflection.AST.DeBruijn.html#2697" class="Bound">i</a> <a id="2706" href="Data.Nat.Base.html#1230" class="Primitive Operator">&lt;ᵇ</a> <a id="2709" href="Reflection.AST.DeBruijn.html#2687" class="Bound">from</a> <a id="2714" class="Symbol">|</a> <a id="2716" href="Reflection.AST.DeBruijn.html#2697" class="Bound">i</a> <a id="2718" href="Data.Nat.Base.html#1230" class="Primitive Operator">&lt;ᵇ</a> <a id="2721" href="Reflection.AST.DeBruijn.html#2687" class="Bound">from</a> <a id="2726" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2728" href="Reflection.AST.DeBruijn.html#2683" class="Bound">by</a>
    <a id="2735" class="Symbol">...</a> <a id="2739" class="Symbol">|</a> <a id="2741" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="2746" class="Symbol">|</a> <a id="2748" class="Symbol">_</a>    <a id="2753" class="Symbol">=</a> <a id="2755" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2760" class="Bound">i</a>
    <a id="2766" class="CatchallClause Symbol">...</a><a id="2769" class="CatchallClause"> </a><a id="2770" class="CatchallClause Symbol">|</a><a id="2771" class="CatchallClause"> </a><a id="2772" class="CatchallClause Symbol">_</a><a id="2773" class="CatchallClause">    </a><a id="2777" class="CatchallClause Symbol">|</a><a id="2778" class="CatchallClause"> </a><a id="2779" href="Agda.Builtin.Bool.html#188" class="CatchallClause InductiveConstructor">true</a> <a id="2784" class="Symbol">=</a> <a id="2786" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>
    <a id="2798" class="CatchallClause Symbol">...</a><a id="2801" class="CatchallClause"> </a><a id="2802" class="CatchallClause Symbol">|</a><a id="2803" class="CatchallClause"> </a><a id="2804" class="CatchallClause Symbol">_</a><a id="2805" class="CatchallClause">    </a><a id="2809" class="CatchallClause Symbol">|</a><a id="2810" class="CatchallClause"> </a><a id="2811" class="CatchallClause Symbol">_</a>    <a id="2816" class="Symbol">=</a> <a id="2818" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="2823" class="Symbol">(</a><a id="2824" class="Bound">i</a> <a id="2826" href="Data.Nat.Base.html#3131" class="Primitive Operator">∸</a> <a id="2828" class="Bound">by</a><a id="2830" class="Symbol">)</a>

    <a id="2837" href="Reflection.AST.DeBruijn.html#2837" class="Function">actions</a> <a id="2845" class="Symbol">:</a> <a id="2847" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="2849" class="Symbol">→</a> <a id="2851" href="Reflection.AST.Traversal.html#1431" class="Record">Actions</a>
    <a id="2863" href="Reflection.AST.DeBruijn.html#2837" class="Function">actions</a> <a id="2871" href="Reflection.AST.DeBruijn.html#2871" class="Bound">by</a> <a id="2874" class="Symbol">=</a> <a id="2876" class="Keyword">record</a> <a id="2883" href="Reflection.AST.Traversal.html#1588" class="Function">defaultActions</a> <a id="2898" class="Symbol">{</a> <a id="2900" href="Reflection.AST.Traversal.html#1463" class="Field">onVar</a> <a id="2906" class="Symbol">=</a> <a id="2908" href="Reflection.AST.DeBruijn.html#2641" class="Function">strVar</a> <a id="2915" href="Reflection.AST.DeBruijn.html#2871" class="Bound">by</a> <a id="2918" class="Symbol">}</a>

  <a id="2923" href="Reflection.AST.DeBruijn.html#2923" class="Function">strengthenFromBy′</a> <a id="2941" class="Symbol">:</a> <a id="2943" class="Symbol">(</a><a id="2944" href="Reflection.AST.Traversal.html#1431" class="Record">Actions</a> <a id="2952" class="Symbol">→</a> <a id="2954" href="Reflection.AST.Traversal.html#941" class="Record">Cxt</a> <a id="2958" class="Symbol">→</a> <a id="2960" href="Reflection.AST.DeBruijn.html#880" class="Generalizable">A</a> <a id="2962" class="Symbol">→</a> <a id="2964" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="2970" href="Reflection.AST.DeBruijn.html#880" class="Generalizable">A</a><a id="2971" class="Symbol">)</a> <a id="2973" class="Symbol">→</a> <a id="2975" class="Symbol">(</a><a id="2976" href="Reflection.AST.DeBruijn.html#2976" class="Bound">from</a> <a id="2981" href="Reflection.AST.DeBruijn.html#2981" class="Bound">by</a> <a id="2984" class="Symbol">:</a> <a id="2986" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2987" class="Symbol">)</a> <a id="2989" class="Symbol">→</a> <a id="2991" href="Reflection.AST.DeBruijn.html#880" class="Generalizable">A</a> <a id="2993" class="Symbol">→</a> <a id="2995" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3001" href="Reflection.AST.DeBruijn.html#880" class="Generalizable">A</a>
  <a id="3005" href="Reflection.AST.DeBruijn.html#2923" class="Function">strengthenFromBy′</a> <a id="3023" href="Reflection.AST.DeBruijn.html#3023" class="Bound">trav</a> <a id="3028" href="Reflection.AST.DeBruijn.html#3028" class="Bound">from</a> <a id="3033" href="Reflection.AST.DeBruijn.html#3033" class="Bound">by</a> <a id="3036" class="Symbol">=</a> <a id="3038" href="Reflection.AST.DeBruijn.html#3023" class="Bound">trav</a> <a id="3043" class="Symbol">(</a><a id="3044" href="Reflection.AST.DeBruijn.html#2837" class="Function">actions</a> <a id="3052" href="Reflection.AST.DeBruijn.html#3033" class="Bound">by</a><a id="3054" class="Symbol">)</a> <a id="3056" class="Symbol">(</a><a id="3057" href="Reflection.AST.DeBruijn.html#3028" class="Bound">from</a> <a id="3062" href="Reflection.AST.Traversal.html#971" class="InductiveConstructor Operator">,</a> <a id="3064" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3066" class="Symbol">)</a> <a id="3068" class="Comment">-- not using the context part</a>

  <a id="3101" href="Reflection.AST.DeBruijn.html#3101" class="Function">strengthenFromBy</a> <a id="3118" class="Symbol">:</a> <a id="3120" class="Symbol">(</a><a id="3121" href="Reflection.AST.DeBruijn.html#3121" class="Bound">from</a> <a id="3126" href="Reflection.AST.DeBruijn.html#3126" class="Bound">by</a> <a id="3129" class="Symbol">:</a> <a id="3131" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3132" class="Symbol">)</a> <a id="3134" class="Symbol">→</a> <a id="3136" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="3141" class="Symbol">→</a> <a id="3143" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3149" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="3156" href="Reflection.AST.DeBruijn.html#3101" class="Function">strengthenFromBy</a> <a id="3173" class="Symbol">=</a> <a id="3175" href="Reflection.AST.DeBruijn.html#2923" class="Function">strengthenFromBy′</a> <a id="3193" href="Reflection.AST.Traversal.html#1933" class="Function">traverseTerm</a>

  <a id="3209" href="Reflection.AST.DeBruijn.html#3209" class="Function">strengthenBy</a> <a id="3222" class="Symbol">:</a> <a id="3224" class="Symbol">(</a><a id="3225" href="Reflection.AST.DeBruijn.html#3225" class="Bound">by</a> <a id="3228" class="Symbol">:</a> <a id="3230" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3231" class="Symbol">)</a> <a id="3233" class="Symbol">→</a> <a id="3235" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="3240" class="Symbol">→</a> <a id="3242" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3248" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="3255" href="Reflection.AST.DeBruijn.html#3209" class="Function">strengthenBy</a> <a id="3268" class="Symbol">=</a> <a id="3270" href="Reflection.AST.DeBruijn.html#3101" class="Function">strengthenFromBy</a> <a id="3287" class="Number">0</a>

  <a id="3292" href="Reflection.AST.DeBruijn.html#3292" class="Function">strengthenFrom</a> <a id="3307" class="Symbol">:</a> <a id="3309" class="Symbol">(</a><a id="3310" href="Reflection.AST.DeBruijn.html#3310" class="Bound">from</a> <a id="3315" class="Symbol">:</a> <a id="3317" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3318" class="Symbol">)</a> <a id="3320" class="Symbol">→</a> <a id="3322" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="3327" class="Symbol">→</a> <a id="3329" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3335" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="3342" href="Reflection.AST.DeBruijn.html#3292" class="Function">strengthenFrom</a> <a id="3357" href="Reflection.AST.DeBruijn.html#3357" class="Bound">from</a> <a id="3362" class="Symbol">=</a> <a id="3364" href="Reflection.AST.DeBruijn.html#3101" class="Function">strengthenFromBy</a> <a id="3381" href="Reflection.AST.DeBruijn.html#3357" class="Bound">from</a> <a id="3386" class="Number">1</a>

  <a id="3391" href="Reflection.AST.DeBruijn.html#3391" class="Function">strengthen</a> <a id="3402" class="Symbol">:</a> <a id="3404" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="3409" class="Symbol">→</a> <a id="3411" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="3417" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a>
  <a id="3424" href="Reflection.AST.DeBruijn.html#3391" class="Function">strengthen</a> <a id="3435" class="Symbol">=</a> <a id="3437" href="Reflection.AST.DeBruijn.html#3101" class="Function">strengthenFromBy</a> <a id="3454" class="Number">0</a> <a id="3456" class="Number">1</a>


<a id="3460" class="Comment">------------------------------------------------------------------------</a>
<a id="3533" class="Comment">-- Free variable check</a>

<a id="3557" class="Keyword">module</a> <a id="3564" href="Reflection.AST.DeBruijn.html#3564" class="Module">_</a> <a id="3566" class="Keyword">where</a>

  <a id="3575" class="Keyword">private</a>
    <a id="3587" href="Reflection.AST.DeBruijn.html#3587" class="Function">anyApplicative</a> <a id="3602" class="Symbol">:</a> <a id="3604" href="Effect.Applicative.html#490" class="Function">RawApplicative</a> <a id="3619" class="Symbol">(λ</a> <a id="3622" href="Reflection.AST.DeBruijn.html#3622" class="Symbol">_</a> <a id="3624" class="Symbol">→</a> <a id="3626" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="3630" class="Symbol">)</a>
    <a id="3636" href="Reflection.AST.DeBruijn.html#3587" class="Function">anyApplicative</a> <a id="3651" class="Symbol">.</a><a id="3652" href="Effect.Applicative.Indexed.html#999" class="Field">RawApplicative.pure</a> <a id="3672" class="Symbol">_</a> <a id="3674" class="Symbol">=</a> <a id="3676" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>
    <a id="3686" href="Reflection.AST.DeBruijn.html#3587" class="Function">anyApplicative</a> <a id="3701" class="Symbol">.</a><a id="3702" href="Effect.Applicative.Indexed.html#1030" class="Field Operator">RawApplicative._⊛_</a>    <a id="3724" class="Symbol">=</a> <a id="3726" href="Data.Bool.Base.html#1044" class="Function Operator">_∨_</a>

  <a id="3733" class="Keyword">open</a> <a id="3738" href="Reflection.AST.Traversal.html" class="Module">Traverse</a> <a id="3747" href="Reflection.AST.DeBruijn.html#3587" class="Function">anyApplicative</a>

  <a id="3765" class="Keyword">private</a>
    <a id="3777" href="Reflection.AST.DeBruijn.html#3777" class="Function">fvVar</a> <a id="3783" class="Symbol">:</a> <a id="3785" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3787" class="Symbol">→</a> <a id="3789" href="Reflection.AST.Traversal.html#941" class="Record">Cxt</a> <a id="3793" class="Symbol">→</a> <a id="3795" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3797" class="Symbol">→</a> <a id="3799" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
    <a id="3808" href="Reflection.AST.DeBruijn.html#3777" class="Function">fvVar</a> <a id="3814" href="Reflection.AST.DeBruijn.html#3814" class="Bound">i</a> <a id="3816" class="Symbol">(</a><a id="3817" href="Reflection.AST.DeBruijn.html#3817" class="Bound">n</a> <a id="3819" href="Reflection.AST.Traversal.html#971" class="InductiveConstructor Operator">,</a> <a id="3821" class="Symbol">_)</a> <a id="3824" href="Reflection.AST.DeBruijn.html#3824" class="Bound">x</a> <a id="3826" class="Symbol">=</a> <a id="3828" href="Reflection.AST.DeBruijn.html#3814" class="Bound">i</a> <a id="3830" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3832" href="Reflection.AST.DeBruijn.html#3817" class="Bound">n</a> <a id="3834" href="Data.Nat.Base.html#1056" class="Primitive Operator">≡ᵇ</a> <a id="3837" href="Reflection.AST.DeBruijn.html#3824" class="Bound">x</a>

    <a id="3844" href="Reflection.AST.DeBruijn.html#3844" class="Function">actions</a> <a id="3852" class="Symbol">:</a> <a id="3854" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3856" class="Symbol">→</a> <a id="3858" href="Reflection.AST.Traversal.html#1431" class="Record">Actions</a>
    <a id="3870" href="Reflection.AST.DeBruijn.html#3844" class="Function">actions</a> <a id="3878" href="Reflection.AST.DeBruijn.html#3878" class="Bound">i</a> <a id="3880" class="Symbol">=</a> <a id="3882" class="Keyword">record</a> <a id="3889" href="Reflection.AST.Traversal.html#1588" class="Function">defaultActions</a> <a id="3904" class="Symbol">{</a> <a id="3906" href="Reflection.AST.Traversal.html#1463" class="Field">onVar</a> <a id="3912" class="Symbol">=</a> <a id="3914" href="Reflection.AST.DeBruijn.html#3777" class="Function">fvVar</a> <a id="3920" href="Reflection.AST.DeBruijn.html#3878" class="Bound">i</a> <a id="3922" class="Symbol">}</a>

  <a id="3927" href="Reflection.AST.DeBruijn.html#3927" class="Function Operator">_∈FV_</a> <a id="3933" class="Symbol">:</a> <a id="3935" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="3937" class="Symbol">→</a> <a id="3939" href="Agda.Builtin.Reflection.html#4688" class="Datatype">Term</a> <a id="3944" class="Symbol">→</a> <a id="3946" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
  <a id="3953" href="Reflection.AST.DeBruijn.html#3953" class="Bound">i</a> <a id="3955" href="Reflection.AST.DeBruijn.html#3927" class="Function Operator">∈FV</a> <a id="3959" href="Reflection.AST.DeBruijn.html#3959" class="Bound">t</a> <a id="3961" class="Symbol">=</a> <a id="3963" href="Reflection.AST.Traversal.html#1933" class="Function">traverseTerm</a> <a id="3976" class="Symbol">(</a><a id="3977" href="Reflection.AST.DeBruijn.html#3844" class="Function">actions</a> <a id="3985" href="Reflection.AST.DeBruijn.html#3953" class="Bound">i</a><a id="3986" class="Symbol">)</a> <a id="3988" class="Symbol">(</a><a id="3989" class="Number">0</a> <a id="3991" href="Reflection.AST.Traversal.html#971" class="InductiveConstructor Operator">,</a> <a id="3993" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3995" class="Symbol">)</a> <a id="3997" href="Reflection.AST.DeBruijn.html#3959" class="Bound">t</a>
</pre></body></html>